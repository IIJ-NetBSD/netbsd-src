#!/bin/sh
#
# $NetBSD: lvmlockdir,v 1.2 2025/11/27 05:04:35 andvar Exp $
#

# REQUIRE: mountcritlocal
# BEFORE: CRITLOCALMOUNTED

$_rc_subr_loaded . /etc/rc.subr

name="lvmlockdir"
start_cmd="lvmlockdir_start"
stop_cmd=":"

lvmlockdir_start()
{
	#       create LVM locking directory, it needs to be owned by operator
	#	group and has permissions to allow lock file creation.
	#
	mkdir -p /var/run/lvm
	chown root:operator /var/run/lvm
	chmod 770 /var/run/lvm
	return 0
}

load_rc_config $name
run_rc_command "$1"
